package com.assignment.catalogservice.config;

import org.elasticsearch.client.internal.ElasticsearchClient;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.web.client.RestClient;

@Configuration
public class ElasticSearchConfiguration {

	@Value("${elasticsearch.node.url: localhost:9200")
	private String elasticSearchUrl;

	@Bean
	public ElasticsearchClient elasticsearchClient() {
		RestClient restClient = RestClient.builder(HttpHost.create("http://localhost:9200")).build();
		ElasticsearchTransport transport = new RestClientTransport(restClient, new JacksonJsonpMapper());
		ElasticsearchClient client = new ElasticsearchClient(transport);
	}

}
